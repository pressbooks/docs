(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{378:function(e,t,r){"use strict";r.r(t);var o=r(45),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("The Pressbooks unit testing framework was built (then slightly tweaked) using "),r("a",{attrs:{href:"https://make.wordpress.org/cli/handbook/plugin-unit-tests/",target:"_blank",rel:"noopener noreferrer"}},[e._v("WP-CLI"),r("OutboundLink")],1),e._v(". The tests run automatically on commit via "),r("a",{attrs:{href:"https://travis-ci.org/pressbooks/pressbooks",target:"_blank",rel:"noopener noreferrer"}},[e._v("Travis-CI"),r("OutboundLink")],1),e._v(", with more in-depth reporting via "),r("a",{attrs:{href:"https://codecov.io/gh/pressbooks/pressbooks",target:"_blank",rel:"noopener noreferrer"}},[e._v("Codecov"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("To run the tests locally, do:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("cd /path/to/wordpress/wp-content/plugins/pressbooks\nbash bin/install-wp-tests.sh wordpress_test DBUSER DBPASS localhost latest\nphpunit\n")])])]),r("ul",[r("li",[e._v("Replace "),r("code",[e._v("/path/to")]),e._v(" with your path.")]),e._v(" "),r("li",[r("code",[e._v("wordpress_test")]),e._v(" is the name of a new test database ("),r("strong",[e._v("all data will be deleted!")]),e._v(")")]),e._v(" "),r("li",[r("code",[e._v("DBUSER")]),e._v(" is your MySQL user name")]),e._v(" "),r("li",[r("code",[e._v("DBPASS")]),e._v(" is your MySQL user password")]),e._v(" "),r("li",[r("code",[e._v("localhost")]),e._v(" is your MySQL host")]),e._v(" "),r("li",[r("code",[e._v("latest")]),e._v(" is the WordPress version; could also be "),r("code",[e._v("4.5")]),e._v(", "),r("code",[e._v("4.6")]),e._v(" etc.")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://phpunit.de/",target:"_blank",rel:"noopener noreferrer"}},[e._v("PHPUnit is installed..."),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("The bash script installs a copy of WordPress and the WordPress unit testing tools in"),r("code",[e._v("/tmp")]),e._v(". It then creates a new tests database to be used while running tests. The bash script can be run multiple times without errors, but it will "),r("em",[e._v("not")]),e._v(" overwrite previously existing files.")]),e._v(" "),r("p",[e._v("Tests are in "),r("code",[e._v("/tests/*.*")])]),e._v(" "),r("p",[e._v("Tests cover the code in "),r("code",[e._v("/inc/*.*")])]),e._v(" "),r("p",[e._v("Please "),r("a",{attrs:{href:"https://codecov.io/gh/pressbooks/pressbooks",target:"_blank",rel:"noopener noreferrer"}},[e._v("help us improve code coverage!"),r("OutboundLink")],1)]),e._v(" "),r("h2",{attrs:{id:"more-info"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#more-info"}},[e._v("#")]),e._v(" More info:")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://phpunit.de/manual/4.8/en/appendixes.assertions.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PHPUnit Assertions"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"http://codesymphony.co/writing-wordpress-plugin-unit-tests/#object-factories",target:"_blank",rel:"noopener noreferrer"}},[e._v("WP_UnitTestCase + Object Factories"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"http://code.tutsplus.com/tutorials/how-to-write-testable-and-maintainable-code-in-php--net-31726",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to Write Testable Code"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"http://carlalexander.ca/introduction-wordpress-unit-testing/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Introduction to WordPress Unit Testing"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"http://kizu514.com/blog/write-unit-tests-for-your-wordpress-plugin-using-phpstorm-code-completion/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Write Unit Tests For Your WordPress Plugin Using PhpStorm Code Completion"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=s.exports}}]);