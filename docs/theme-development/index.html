<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Theme Development | Pressbooks Documentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/svg+xml" href="/docs/icon.svg">
    <meta name="description" content="User and Developer Documentation">
    
    <link rel="preload" href="/docs/assets/css/0.styles.682103a7.css" as="style"><link rel="preload" href="/docs/assets/js/app.9626b154.js" as="script"><link rel="preload" href="/docs/assets/js/2.6bc8cb11.js" as="script"><link rel="preload" href="/docs/assets/js/22.764994a6.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.4b0094f5.js"><link rel="prefetch" href="/docs/assets/js/11.1a3a1bbf.js"><link rel="prefetch" href="/docs/assets/js/12.fb8e341b.js"><link rel="prefetch" href="/docs/assets/js/13.4150e733.js"><link rel="prefetch" href="/docs/assets/js/14.3ce1d392.js"><link rel="prefetch" href="/docs/assets/js/15.419e0357.js"><link rel="prefetch" href="/docs/assets/js/16.6086f0f2.js"><link rel="prefetch" href="/docs/assets/js/17.b141e0ad.js"><link rel="prefetch" href="/docs/assets/js/18.a06325ca.js"><link rel="prefetch" href="/docs/assets/js/19.658889d1.js"><link rel="prefetch" href="/docs/assets/js/20.4be19d50.js"><link rel="prefetch" href="/docs/assets/js/21.1707d2d2.js"><link rel="prefetch" href="/docs/assets/js/23.90f0b43e.js"><link rel="prefetch" href="/docs/assets/js/24.371f46cc.js"><link rel="prefetch" href="/docs/assets/js/25.ef3457f8.js"><link rel="prefetch" href="/docs/assets/js/26.b7a1e03a.js"><link rel="prefetch" href="/docs/assets/js/3.557dccde.js"><link rel="prefetch" href="/docs/assets/js/4.e05c873c.js"><link rel="prefetch" href="/docs/assets/js/5.f3e6ed41.js"><link rel="prefetch" href="/docs/assets/js/6.498ab014.js"><link rel="prefetch" href="/docs/assets/js/7.d5695a61.js"><link rel="prefetch" href="/docs/assets/js/8.fefb77cd.js"><link rel="prefetch" href="/docs/assets/js/9.f4aa6e89.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.682103a7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Pressbooks Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="User Guides" class="dropdown-title"><span class="title">User Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="User Guides" class="mobile-dropdown-title"><span class="title">User Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/installation/" class="nav-link">
  Installation
</a></li><li class="dropdown-item"><!----> <a href="/docs/integrations/" class="nav-link">
  Integrations
</a></li><li class="dropdown-item"><!----> <a href="/docs/debugging/" class="nav-link">
  Debugging
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Developer Guides" class="dropdown-title"><span class="title">Developer Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Developer Guides" class="mobile-dropdown-title"><span class="title">Developer Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/coding-standards/" class="nav-link">
  Coding Standards
</a></li><li class="dropdown-item"><!----> <a href="/docs/local-development/" class="nav-link">
  Local Development
</a></li><li class="dropdown-item"><!----> <a href="/docs/workflow/" class="nav-link">
  Workflow
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-development/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Theme Development
</a></li><li class="dropdown-item"><!----> <a href="/docs/unit-testing/" class="nav-link">
  Unit Testing
</a></li></ul></div></div><div class="nav-item"><a href="/docs/rest-api/" class="nav-link">
  REST API
</a></div><div class="nav-item"><a href="/docs/changelogs/" class="nav-link">
  Changelogs
</a></div><div class="nav-item"><a href="/docs/contributors/" class="nav-link">
  Contributors
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="User Guides" class="dropdown-title"><span class="title">User Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="User Guides" class="mobile-dropdown-title"><span class="title">User Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/installation/" class="nav-link">
  Installation
</a></li><li class="dropdown-item"><!----> <a href="/docs/integrations/" class="nav-link">
  Integrations
</a></li><li class="dropdown-item"><!----> <a href="/docs/debugging/" class="nav-link">
  Debugging
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Developer Guides" class="dropdown-title"><span class="title">Developer Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Developer Guides" class="mobile-dropdown-title"><span class="title">Developer Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/coding-standards/" class="nav-link">
  Coding Standards
</a></li><li class="dropdown-item"><!----> <a href="/docs/local-development/" class="nav-link">
  Local Development
</a></li><li class="dropdown-item"><!----> <a href="/docs/workflow/" class="nav-link">
  Workflow
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-development/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Theme Development
</a></li><li class="dropdown-item"><!----> <a href="/docs/unit-testing/" class="nav-link">
  Unit Testing
</a></li></ul></div></div><div class="nav-item"><a href="/docs/rest-api/" class="nav-link">
  REST API
</a></div><div class="nav-item"><a href="/docs/changelogs/" class="nav-link">
  Changelogs
</a></div><div class="nav-item"><a href="/docs/contributors/" class="nav-link">
  Contributors
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-getting-started"><a href="#_1-getting-started" class="header-anchor">#</a> 1. Getting Started</h2> <p>We recommend that you start by installing <a href="http://wp-cli.org/#installing" target="_blank" rel="noopener noreferrer">WP-CLI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which will let you use Pressbooks built-in <a href="https://github.com/pressbooks/pb-cli/#installing" target="_blank" rel="noopener noreferrer">pb-cli<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> utility to scaffold a new Pressbooks book theme in your development environment with the following command:</p> <div class="language- extra-class"><pre><code>wp scaffold book-theme &lt;slug&gt;
</code></pre></div><p>For further options, <a href="https://github.com/pressbooks/pb-cli/#using" target="_blank" rel="noopener noreferrer">read the docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>The resulting theme will have the following structure and contents:</p> <div class="language- extra-class"><pre><code>├── assets
│   ├── styles
│   │   ├── components
│   │   │   ├── _accessibility.scss
│   │   │   ├── _colors.scss
│   │   │   ├── _elements.scss
│   │   │   ├── _media.scss
│   │   │   ├── _specials.scss
│   │   │   ├── _structure.scss
│   │   │   ├── _titles.scss
│   │   │   ├── _toc.scss
│   │   ├── epub
│   │   │   ├── _fonts.scss
│   │   │   ├── style.scss
│   │   ├── prince
│   │   │   ├── _fonts.scss
│   │   │   ├── style.scss
│   │   ├── web
│   │   │   ├── _fonts.scss
│   │   │   ├── style.scss
├── .editorconfig
├── .gitignore
├── .scss-lint.yml
├── functions.php
├── style.css
</code></pre></div><p>Note that <a href="https://github.com/pressbooks/pressbooks-demo/blob/15875fb8c7d4ea8a026190c60e48ae4b4971cef3/style.css" target="_blank" rel="noopener noreferrer"><code>style.css</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is not used except to provide Pressbooks with <a href="https://codex.wordpress.org/File_Header#Theme_File_Header_Example" target="_blank" rel="noopener noreferrer">theme file header<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> information. Your web theme stylesheet is compiled when your theme is activated or theme options that affect it are changed. For easier development, you can add the following line to <code>wp-config.php</code>:</p> <p><code>define('WP_ENV', 'development');</code></p> <p>This will turn on the development compiler introduced in Pressbooks 3.9.0, which triggers a recompile of your web theme stylesheet if the source files have been modified since it was last compiled when you visit any page in your webbook (<a href="https://github.com/pressbooks/pressbooks/blob/v3.9.0/themes-book/pressbooks-book/functions.php#L97-L143" target="_blank" rel="noopener noreferrer">see here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</p> <h2 id="_2-overriding-defaults"><a href="#_2-overriding-defaults" class="header-anchor">#</a> 2. Overriding Defaults</h2> <p>If you activate the theme you have just created, you will be able to export your book in all formats thanks to our sensible defaults. But now comes the fun part. Each file in <code>assets/styles/components</code> is set up to allow you to override the default values of all theme variables. Components are as follows:</p> <h3 id="accessiblity-scss"><a href="#accessiblity-scss" class="header-anchor">#</a> _accessiblity.scss</h3> <p>Contains rules for accessibility.</p> <h3 id="colors-scss"><a href="#colors-scss" class="header-anchor">#</a> _colors.scss</h3> <p>Contains color definitions which can be assigned elsewhere.</p> <h3 id="elements-scss"><a href="#elements-scss" class="header-anchor">#</a> _elements.scss</h3> <p>Contains rules for standard elements (headings, paragraphs, blockquotes et cetera).</p> <h3 id="media-scss"><a href="#media-scss" class="header-anchor">#</a> _media.scss</h3> <p>Contains rules for images, embedded audio and embedded video.</p> <h3 id="specials-scss"><a href="#specials-scss" class="header-anchor">#</a> _specials.scss</h3> <p>Contains rules for custom elements (columns, footnotes, pullquotes, dropcaps, et cetera).</p> <h3 id="structure-scss"><a href="#structure-scss" class="header-anchor">#</a> _structure.scss</h3> <p>Contains rules for document and page and structure (only included in <a href="https://pressbooks.com/prince/" target="_blank" rel="noopener noreferrer">PrinceXML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> PDF — page dimensions, margins, recto-verso, running content et cetera).</p> <h3 id="titles-scss"><a href="#titles-scss" class="header-anchor">#</a> _titles.scss</h3> <p>Contains rules for book, front matter, part, chapter and back matter titles.</p> <h3 id="toc-scss"><a href="#toc-scss" class="header-anchor">#</a> _toc.scss</h3> <p>Contains rules for the book's table of contents.</p> <p>Let's take a look at <a href="https://github.com/pressbooks/pressbooks-demo/blob/15875fb8c7d4ea8a026190c60e48ae4b4971cef3/assets/styles/components/_elements.scss" target="_blank" rel="noopener noreferrer"><code>assets/styles/components/_elements.scss</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <pre>// Elements

// Override variables above this line, using the !default flag to allow further overrides.
@import 'variables/elements';

// Add custom SCSS below these imports and includes.
@import 'components/elements/links';
@import 'components/elements/blockquotes';
@import 'components/elements/body';
@import 'components/elements/headings';
@import 'components/elements/lists';
@import 'components/elements/miscellaneous';
@import 'components/elements/paragraphs';
@import 'components/elements/tables';</pre> <p>As you can see, this file is importing a variables file and a number of individual component files (all of which can be found within the Pressbooks plugin in the <a href="https://github.com/pressbooks/pressbooks/tree/master/assets/book/styles" target="_blank" rel="noopener noreferrer"><code>assets/book/styles</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> directory). Let's examine the rules found in <a href="https://github.com/pressbooks/pressbooks/blob/master/assets/book/styles/components/elements/_blockquotes.scss" target="_blank" rel="noopener noreferrer"><code>components/elements/_blockquotes.scss</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <pre>.blockquote,
blockquote {
margin-top: $blockquote-margin-top;
margin-right: $blockquote-margin-right;
margin-bottom: $blockquote-margin-bottom;
margin-left: $blockquote-margin-left;
font-family: $blockquote-font-family;
font-size: $blockquote-font-size;
font-style: $blockquote-font-style;
font-weight: $blockquote-font-weight;
line-height: $blockquote-line-height;
text-align: $blockquote-align;
}</pre> <p>The values for these SCSS variables are found in <a href="https://github.com/pressbooks/pressbooks/blob/master/assets/book/styles/variables/_elements.scss" target="_blank" rel="noopener noreferrer"><code>variables/_elements.scss</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (all directories and root-level SCSS partials in <code>assets/book/styles/components</code> have a corresponding variables file):</p> <p><code>$blockquote-font-family: $font-1 !default; $blockquote-font-size: .9em !default; $blockquote-font-style: normal !default; $blockquote-font-weight: normal !default; $blockquote-line-height: 1.2em !default; $blockquote-margin-top: 1em !default; $blockquote-margin-right: 1em !default; $blockquote-margin-bottom: 1em !default; $blockquote-margin-left: 1em !default; $blockquote-align: justify !default;</code></p> <p>You will notice that all these values are set with the SCSS <a href="https://robots.thoughtbot.com/sass-default" target="_blank" rel="noopener noreferrer"><code>!default</code> flag<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Essentially, the <code>!default</code> flag tells the SCSS compiler to use this value <strong>unless</strong> another value has already been assigned to the variable. Going back to your new theme's <a href="https://github.com/pressbooks/pressbooks-demo/blob/15875fb8c7d4ea8a026190c60e48ae4b4971cef3/assets/styles/components/_elements.scss" target="_blank" rel="noopener noreferrer"><code>assets/styles/components/_elements.scss</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, file, you could change it as follows:</p> <pre>// Elements

$blockquote-font-style: italic !default;

// Override variables above this line, using the !default flag to allow further overrides.
@import 'variables/elements';

// Add custom SCSS below these imports and includes.
@import 'components/elements/links';
@import 'components/elements/blockquotes';
@import 'components/elements/body';
@import 'components/elements/headings';
@import 'components/elements/lists';
@import 'components/elements/miscellaneous';
@import 'components/elements/paragraphs';
@import 'components/elements/tables';</pre> <p>When Pressbooks compiles your theme's SCSS, the rule for blockquotes will now include the <code>font-style</code> value from your theme instead of the global default, so the output will look like this:</p> <p><code>.blockquote, blockquote { margin-top: 1em; margin-right: 1em; margin-bottom: 1em; margin-left: 1em; font-family: serif; font-size: 0.9em; font-style: italic; font-weight: normal; line-height: 1.2em; text-align: justify; }</code></p> <p>The reason you should use the <code>!default</code> flag on your variable definitions is so that your theme's values can be further overridden by user options. Most variables cannot currently be overridden in this way (because the necessary theme options don't exist yet), but we recommend always using the default flag so that future enhancements to user theme options can be developed with as much flexibility as possible.</p> <h2 id="_3-adding-custom-rules"><a href="#_3-adding-custom-rules" class="header-anchor">#</a> 3. Adding Custom Rules</h2> <p>Now that you've overridden a variable, try adding your own custom rule. Perhaps your book needs a special type of blockquote that is centered on the page. You can add it by inserting the following rule below the <code>@import</code> rules in <a href="https://github.com/pressbooks/pressbooks-demo/blob/550648bf3c6ea947a5670ce083b8078535d39fb5/assets/styles/components/_elements.scss" target="_blank" rel="noopener noreferrer"><code>assets/styles/components/_elements.scss</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language- extra-class"><pre><code>blockquote.centered,
.blockquote.centered {
margin-right: auto;
margin-left: auto;
}
</code></pre></div><p>Now our full <a href="https://github.com/pressbooks/pressbooks-demo/blob/550648bf3c6ea947a5670ce083b8078535d39fb5/assets/styles/components/_elements.scss" target="_blank" rel="noopener noreferrer"><code>assets/styles/components/_elements.scss</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> file looks like this:</p> <pre>// Elements

$blockquote-font-style: italic !default;
// Override variables above this line, using the !default flag to allow further overrides.
 @import 'variables/elements';

// Add custom SCSS below these imports and includes.
 @import 'components/elements/links';
 @import 'components/elements/blockquotes';
 @import 'components/elements/body';
 @import 'components/elements/headings';
 @import 'components/elements/lists';
 @import 'components/elements/miscellaneous';
 @import 'components/elements/paragraphs';
 @import 'components/elements/tables';

blockquote.centered,
 .blockquote.centered {
 margin-right: auto;
 margin-left: auto;
 }

</pre> <p>And when you export your book, Pressbooks will compile your new rule after the default rule for blockquotes, so <code>blockquote.centered</code> will inherit all the properties of the standard blockquote but will override the left and right margin properties.</p> <h2 id="_4-different-formats-different-rules"><a href="#_4-different-formats-different-rules" class="header-anchor">#</a> 4. Different Formats, Different Rules</h2> <p>Sometimes you need to set a variable differently depending on which format you are using. Perhaps you want to left-align your blockquotes for EPUB and web, but you want to justify them for PDF. This is easy to accomplish using an SCSS if-statement with the <code>$type</code> variable. Add another variable override to the top of <a href="https://github.com/pressbooks/pressbooks-demo/blob/4eb01592c38830127f8392ecfaf4afb7de491260/assets/styles/components/_elements.scss" target="_blank" rel="noopener noreferrer"><code>assets/styles/components/_elements.scss</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as follows:</p> <p><code>@if $type == 'epub' { $blockquote-align: left !default; } @else if $type == 'prince' { $blockquote-align: justify !default; } @else if $type == 'web' { $blockquote-align: left !default; }</code></p> <p>All the component files you are working on are imported into the different outputs' <code>style.scss</code> files. For example, your book theme's stylesheet for Prince PDF, <a href="https://github.com/pressbooks/pressbooks-demo/blob/4eb01592c38830127f8392ecfaf4afb7de491260/assets/styles/prince/style.scss" target="_blank" rel="noopener noreferrer"><code>assets/styles/prince/style.scss</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, looks like this:</p> <pre>$type: 'prince';

@import 'fonts';
 @import '../components/colors';
 @import '../components/elements';
 @import '../components/specials';
 @import '../components/media';
 @import '../components/titles';
 @import '../components/structure';
 @import '../components/toc';

</pre> <p>The if-statement you just wrote will be evaluated based on each stylesheet's <code>$type</code> variable, so the <code>$blockquote-align</code> property variable will be set to <code>left</code> for EPUB and web and <code>justify</code> for Prince PDF.</p> <p>You should never modify the <code>assets/styles/&lt;format&gt;/style.scss</code> file directly; all your variables and rules should go in the component files.</p> <h2 id="_5-fonts"><a href="#_5-fonts" class="header-anchor">#</a> 5. Fonts</h2> <p>Font stack definitions can be set for EPUB, Prince, and Web in their respective directories in the <code>assets/styles/&lt;format&gt;</code> path.</p> <pre>@import '_font-stack-prince'; 

$serif-prince: serif !default;
$sans-serif-prince: sans-serif !default;

$font-1: &quot;Tinos&quot;, Georgia, $serif-prince;
$font-2: 'Lato', Helvetica, Arial, $sans-serif-prince;

@import 'LatoFont', 'TinosFont';
</pre> <p>Most themes have at least two font stacks, but may have more. <code>$font-1</code> must be the body font, and <code>$font-2</code> must be the header font. The <code>@import</code> rule loads a SCSS <code>_font-stack-{TYPE}</code> file which is dynamically generated based on the <a href="https://guide.pressbooks.com/chapter/languages/" target="_blank" rel="noopener noreferrer">Language and Script Support<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> settings in the Global tab of Theme Options. The <code>_font-stack-{TYPE}</code> is built from partials found in our default book theme McLuhan. These files, in combination with the <code>$serif-epub, $sans-serif-epub, $serif-prince, $sans-serif-prince, $serif-web</code> and <code>$sans-serif-web</code> variables, allow us to dynamically add support for non-Latin character sets.</p> <p>You can insert custom fonts for your theme into the font stacks shown below. Always end the stack with <code>$serif-epub</code> or <code>$sans-serif-epub</code>, as appropriate—this allows custom language support to be added dynamically.</p> <pre>$font-1: &quot;Tinos&quot;, Georgia, $serif-prince;
$font-2: 'Lato', Helvetica, Arial, $sans-serif-prince;
</pre> <p>Add import rules for any fonts you want to reference. Available font partials are located in McLuhan at the path <code>assets/book/typography/styles</code> and follow the naming pattern: <code>_FontNameInCamelCaseFont.scss</code>. For example, to import <code>Alegreya Sans</code>, use this code:</p> <pre>@import 'AlegreyaSansFont';
</pre> <p>You may also include a typeface from a directory like Google Fonts in your web book. Here is an example of how to import in your web fonts file:</p> <pre>@import url(&quot;https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Crimson+Text:400,400italic,700,700italic&quot;);
</pre></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.9626b154.js" defer></script><script src="/docs/assets/js/2.6bc8cb11.js" defer></script><script src="/docs/assets/js/22.764994a6.js" defer></script>
  </body>
</html>
