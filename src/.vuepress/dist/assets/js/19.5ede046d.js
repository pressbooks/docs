(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{370:function(e,t,s){"use strict";s.r(t);var r=s(45),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h3",{attrs:{id:"enable-wordpress-integration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enable-wordpress-integration"}},[e._v("#")]),e._v(" Enable WordPress Integration")]),e._v(" "),s("p",[e._v("Go to Settings > Languages & Frameworks > PHP > WordPress, enable, set installation path to "),s("code",[e._v("~/Code/pressbooks-dev/site/web/wp")]),e._v(":")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://pressbooks.org/app/uploads/sites/2/2017/08/WordPress.png",alt:"WordPress integration"}})]),e._v(" "),s("h4",{attrs:{id:"npm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[e._v("#")]),e._v(" Npm")]),e._v(" "),s("p",[e._v('Right click on package.json, select "Show npm Scripts":')]),e._v(" "),s("p",[s("img",{attrs:{src:"https://pressbooks.org/app/uploads/sites/2/2017/08/npm-Tasks.png",alt:"npm Tasks"}})]),e._v(" "),s("h4",{attrs:{id:"databases"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#databases"}},[e._v("#")]),e._v(" Databases")]),e._v(" "),s("p",[e._v("In the Database tool window, click the plus symbol, select Data Source > MySQL:")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://pressbooks.org/app/uploads/sites/2/2017/08/Databases.png",alt:"Databases"}})]),e._v(" "),s("p",[e._v("In the SSH/SSL tab:")]),e._v(" "),s("ul",[s("li",[e._v("Proxy host: pressbooks.test (Port: 22)")]),e._v(" "),s("li",[e._v("Proxy user: vagrant")]),e._v(" "),s("li",[e._v("Auth type: Key pair (OpenSSH)")]),e._v(" "),s("li",[e._v("Private key file: "),s("code",[e._v("~/Code/pressbooks-dev/trellis/.vagrant/machines/default/virtualbox/private_key")])])]),e._v(" "),s("p",[e._v("In the General tab (Tip: Credentials are comming from the "),s("code",[e._v("/site/.env")]),e._v(" file):")]),e._v(" "),s("ul",[s("li",[e._v("Host: 127.0.0.1 (Port: 3306)")]),e._v(" "),s("li",[e._v("Database: pressbooks_test_development")]),e._v(" "),s("li",[e._v("User: pressbooks_test")]),e._v(" "),s("li",[e._v("Password: example_dbpassword")])]),e._v(" "),s("p",[e._v("In the General tab for the testing database "),s("em",[e._v("(use the same config as above for SSH/SSL)")]),e._v(":")]),e._v(" "),s("ul",[s("li",[e._v("Host: 127.0.0.1 (Port: 3306)")]),e._v(" "),s("li",[e._v("Database: pressbooks_tests")]),e._v(" "),s("li",[e._v("User: pressbooks_test")]),e._v(" "),s("li",[e._v("Password:")])]),e._v(" "),s("h4",{attrs:{id:"configure-remote-php-interpreter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-remote-php-interpreter"}},[e._v("#")]),e._v(" Configure Remote PHP Interpreter")]),e._v(" "),s("p",[e._v('Settings > Languages & Frameworks > PHP > CLI Interpreter, click the three dots [...], click the plus symbol, select "From Vagrant", set "Vagrant Instance File" to the trellis directory.')]),e._v(" "),s("p",[s("img",{attrs:{src:"https://pressbooks.org/app/uploads/sites/2/2017/08/PHP-Intepreter.png",alt:"PHP Interpreter"}})]),e._v(" "),s("h4",{attrs:{id:"xdebug"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xdebug"}},[e._v("#")]),e._v(" XDebug")]),e._v(" "),s("p",[e._v("Update to the latest PHPStorm.")]),e._v(" "),s("p",[e._v("Get the "),s("a",{attrs:{href:"https://chrome.google.com/webstore/detail/xdebug-helper/eadndfjplgieldjbigjakmdgkmoaaaoc?utm_source=chrome-app-launcher-info-dialog",target:"_blank",rel:"noopener noreferrer"}},[e._v("Xdebug Helper"),s("OutboundLink")],1),e._v(" Chrome plugin.")]),e._v(" "),s("p",[e._v("Go to Settings > Languages & Frameworks > PHP > Servers, create a new server named pressbooks.dev and map:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("pressbooks-dev/site")]),e._v(" to "),s("code",[e._v("/srv/www/example.com/current")])]),e._v(" "),s("li",[s("code",[e._v("pressbooks-dev/trellis")]),e._v(" to "),s("code",[e._v("/home/vagrant/trellis")])])]),e._v(" "),s("p",[s("img",{attrs:{src:"https://pressbooks.org/app/uploads/sites/2/2017/08/Xdebug-1.png",alt:"Xdebug Setup"}})]),e._v(" "),s("p",[e._v('Enable Xdebug Helper in Chrome, set some break points in PhpStorm,enable the "Start Listening for PHP Debug Connections" telephone icon in PhpStorm, reload the website in Chrome:')]),e._v(" "),s("p",[s("img",{attrs:{src:"https://pressbooks.org/app/uploads/sites/2/2017/08/Xdebug-2.png",alt:"Xdebug In Action"}})]),e._v(" "),s("h4",{attrs:{id:"configure-remote-phpunit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-remote-phpunit"}},[e._v("#")]),e._v(" Configure Remote PHPUnit")]),e._v(" "),s("p",[e._v("Settings > Languages & Frameworks > PHP > PHPUnit, create a new configuration based on Remote Interpreter, set path to autoload and configuration to point to files on remote server:")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://pressbooks.org/app/uploads/sites/2/2017/08/PHPUnit.png",alt:"PHPUnit"}})]),e._v(" "),s("p",[e._v("Click the three dots [...] next to path mappings and set "),s("code",[e._v("pressbooks-dev/site")]),e._v(" to "),s("code",[e._v("/srv/www/example.com/current")]),e._v(":")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://pressbooks.org/app/uploads/sites/2/2017/08/PHP-Mappings.png",alt:"PHP Mappings"}})]),e._v(" "),s("p",[e._v('Create and run new test configurations with "Test scope: Defined in the configuration file"')]),e._v(" "),s("p",[s("img",{attrs:{src:"https://pressbooks.org/app/uploads/sites/2/2017/08/PHPUnit-Running.png",alt:"PHPUnit Running"}})]),e._v(" "),s("p",[e._v("Troubleshooting: If you have restarted your VM you will see a "),s("code",[e._v("PHP Fatal error: require_once(): Failed opening required '/tmp/wordpress-tests-lib/includes/functions.php'")]),e._v(" Fix by re-runing "),s("code",[e._v("bin/install-wp-tests.sh")]),e._v(" (@see "),s("RouterLink",{attrs:{to:"/unit-testing/"}},[e._v("Unit Testing")]),e._v(" and "),s("RouterLink",{attrs:{to:"/coding-standards/"}},[e._v("Coding Standards")]),e._v(")")],1)])}),[],!1,null,null,null);t.default=a.exports}}]);